<div *ngIf="hasHits()">
    <div class="d-flex justify-content-center" (mouseup)="onMouseUp($event)" (mousedown)="onMouseDown($event)">
        <cdk-virtual-scroll-viewport autosize class="scroll-viewport" >
            <div *cdkVirtualFor="let item of data!.result!.hits">
                <div class="card doc-card mb-1" (click)="onClick(item)">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center card-title">
                            <div>
                                <span>{{ item.fields!.parent_doc }}</span><span> | Page {{ item.fields!.page + 1}}</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <span title="{{ globals.languageCodeToName(item.fields!.language) }}" class="shadow border rounded px-1 language-tag">{{ item.fields!.language }}</span>
                                <a href="{{vespaService.downloadDocumentFileURL(item.fields!.parent_doc)}}" class="btn btn-download" (click)="$event.stopPropagation();" title="Download document">
                                    <i class="fa fa-download" ></i>
                                </a>
                            </div>
                        </div>
                        <!-- <h6 class="card-subtitle mb-2 text-muted">Metadata: country of origin, date issued</h6> -->
                        <!-- <p class="card-text" [innerHTML]="item.fields!.body | safeHtml"></p> -->
                        <app-bounded-snippet-viewer *ngFor="let snippetName of getSnippets(item.fields.parent_doc, item.fields.page)?.names, let i = index"
                        [snippetName]="snippetName"
                        [snippetBox]="getSnippets(item.fields.parent_doc, item.fields.page).boxes[i]"
                        [boundingData]="getBoundingBoxes(item.fields.parent_doc, item.fields.page)"
                        [terms]="getRelevantTerms(item.fields.parent_doc, item.fields.page)"
                        [docName]="item.fields.parent_doc"
                        [docPage]="item.fields.page"
                        [inViewport]="inViewport"
                        ></app-bounded-snippet-viewer>
                        <!-- <div *ngFor="let snippetNames of getSnippets(item.fields.parent_doc, item.fields.page).names">
                            <img class="img-fluid mb-1" [src]="vespaService.getSnippetURL(snippetNames)"/>
                        </div> -->
                    </div>
                </div>
            </div>
        </cdk-virtual-scroll-viewport>
    </div>
    <div #tooltipDiv class="tooltip-div">
        <i class="fa fa-search mx-1" (click)="onTooltipSearch()"></i>
        <i class="fa fa-copy mx-1" (click)="onTooltipCopy()"></i>
    </div>
</div>
<div *ngIf="!data?.result">
    <!-- <p>Waiting for your input!</p> -->
</div>